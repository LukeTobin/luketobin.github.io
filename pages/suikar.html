<!DOCTYPE HTML>
<html>
	<head>
		<title>Luke Tobin - SuikAR</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/base16/snazzy.min.css" integrity="sha512-DCCYH45xX7P4ggjembrwefCdll9HsL6YODZmhtqCNnZU4aysKTrSUyFoLq0sutXY+AF6le33xVPNo6hFGGOQ8A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
		<style>
			/* Custom styles for the tab container */
			.tab-container {
				display: flex;
				justify-content: space-between;
			}
	
			.tab-button {
				padding: 10px 15px;
				background-color: #f0f0f0;
				cursor: pointer;
				color: #333;
			}

			.tab-button:hover {
				background-color: #ccc; /* Change this color for hover effect */
			}
	
			.tab-content {
				width: 100%;
				display: none;
			}
	
			.tab-content.active {
				display: block;
			}
		</style>

		<noscript><link rel="stylesheet" href="../assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

	

		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/csharp.min.js"></script>
		<script>hljs.highlightAll();</script>
	
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Logo -->
								<a href="../index.html" class="logo">
									<span class="symbol"><img src="../images/logo.svg" alt="" /></span><span class="title">Technical Design Portfolio</span>
								</a>

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="../index.html">Home</a></li>
							<li><a href="../docs/Resume.pdf" target="_blank">Resume</a></li>
							<li><a href="#con">Contact</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
							<h1>SuikAR</h1>
							<h2>Project</h2>
							<p>A fun experimentation project for exploring the possibility of having a <b>3D Suika Game in an AR environment.</b></p>
							<p><i>The project is based on an translating an existing game <a href="https://www.nintendo.com/us/store/products/suika-game-switch/">Suika Game</a> to AR</i></p>
							<br/>
							
							<!-- Video -->
							<div style="text-align: center;">
								<video width="640" height="460" controls>
									<source src="https://github.com/LukeTobin/luketobin.github.io/raw/master/videos/suikar.mp4" type="video/mp4">
									Your browser does not support the video tag.
								  </video>
							</div>
							

        					<!-- Project Details -->
							<h2 style="margin-top: 2em">Project Details</h2>
							<p style="margin-top: -1em"><b>Team Size: </b> 1</p>
							<p style="margin-top: -1em"><b>Year: </b>2023</p>
							<p style="margin-top: -1em"><b>Length: </b>2 days</p>
							<p style="margin-top: -1em"><b>Engine: </b>Unity</p>
							<p style="margin-top: -1em"><b>Source Control: </b>GitHub</p>

							<!-- Work Done -->
							<h2 style="margin-top: 2em">Notable Work</h2>
							<div class="container">
								<div class="content">
									<h3>Overview</h3>
									<ul>
										<li>Translated the <b>core gameplay loop into 3D AR</b> and made necessary adjustments to the mechanics.</li>
											<ul>
												<li>Required three identical fruits to collide for a match.</li>
												<li>Showed only the next fruit to spawn.</li>
											</ul>
										<li>Worked with <b>XRToolkit</b>, specifically utilizing <b>ARRaycasting and ARPlanes.</b></li>
										<li>Implemented a robust, <b>generic event dispatcher</b>, adopting a more centralized approach to the <u>observer pattern</u>.</li>
										<li>Adhered strictly to the <b>SOLID principles</b> whenever possible.</li>
										<li>Developed a <b>custom gravity controller</b> to manage the <u>gravitational pull</u> affecting the fruit.</li>
									  </ul>
									  
								</div>
							</div>

							<!-- Gameloop -->
							<div class="container">
								<div class="content">
									<h3>Gameloop</h3>
									<p>The basic gameplay loop involves combining two identical fruits to create a larger fruit. The game follows a Tetris-like approach, providing information and choices to the player in a similar fashion.</p>
									<div class="box alt">
										<div class="row aln-center">
											<div class="col-4"><span class="image fit"><img src="../images/SuikAR/loop.JPG" alt="" /></span></div>
										</div>
									</div>
									<p>To adapt to the gameplay taking place in a 3D world using AR, various changes needed to be made to both the core gameplay and supporting systems.</p>
									<div class="box alt">
										<div class="row aln-center">
											<div class="col-8"><span class="image fit"><img src="https://media.githubusercontent.com/media/LukeTobin/luketobin.github.io/master/images/SuikAR/gameplay.gif" alt="" /></span></div>
										</div>
									</div>
									<p><b>Match-3</b>: With improved control and precision over fruit placement, combining fruit became much easier without significant hassle. Requiring three fruit to collide created a more engaging experience in a 3D environment.</p>
									<p><b>Gravitational Pull</b>: In the original game, losing fruit wasn't possible, but in the AR setting, players could shoot fruit outside the gameplay boundaries. To address this, a custom gravity system was implemented, pulling fruit toward the center of a specified object.</p>
								</div>
							</div>

							<!-- Gravity -->
							<div class="container">
								<div class="content">
									<h3>Gravity</h3>
									<p>A custom gravity system was implemented that would act as a gravitational pull for bypassing fruit.</p>
									<div class="box alt">
										<div class="row aln-center">
											<div class="col-4"><span class="image fit"><img src="https://media.githubusercontent.com/media/LukeTobin/luketobin.github.io/master/images/SuikAR/gravity.gif" alt="" /></span></div>
										</div>
									</div>
									<pre><code style="max-height: 700px;" class="csharp">using UnityEngine;

namespace SuikAR.Systems
{
	public class GravitationalPull : MonoBehaviour
	{
		[SerializeField] private float gravitationalForce = 9.81f;
		[Tooltip("Gravity strength should be lower the closer the fruit's distance to this value")]
		[SerializeField] private float gravitationalDeadzone = 0.3f; 

		private void FixedUpdate()
		{
		  foreach (var collider in Physics.OverlapBox(transform.position, transform.localScale))
		  {
			collider.TryGetComponent(out Rigidbody rb);
			if (rb)
			{
			  Vector3 direction = transform.position - collider.transform.position;
			  float distance = direction.magnitude;

			  if (distance > gravitationalDeadzone)
			  {
				// Calculate gravitational force
				float forceMagnitude = gravitationalForce * rb.mass / Mathf.Pow(distance, 2);
				Vector3 force = direction.normalized * forceMagnitude;

				// Apply force to the object
				rb.AddForce(force);
			  }
			  else if (distance <= gravitationalDeadzone && distance > 0)
			  {
				// Calculate reduced force within the dead zone
				float forceMagnitude = gravitationalForce * rb.mass / Mathf.Pow(gravitationalDeadzone, 2);
				float distanceFactor = Mathf.InverseLerp(0, gravitationalDeadzone, distance);
				float reducedForceMagnitude = Mathf.Lerp(0, forceMagnitude, distanceFactor);
				Vector3 force = direction.normalized * reducedForceMagnitude;

				// Apply force to the object
				rb.AddForce(force);
			  }
			}
		  }
		}
	} 
}													
										</code></pre>
								</div>
							</div>

							<!-- Event Dispatcher -->
							<div class="container">
								<div class="content">
									<h3>Events</h3>
									<p></p>
									<p>A generic event dispatcher that is designed to allow classes to subscribe to notifications and receive data without requiring coupling with other classes. It offers a more centralized approach to the observer pattern.</p>
									<pre><code style="max-height: 700px;" class="csharp">using System;
using System.Collections.Generic;

namespace SuikAR.Events
{
	public static class EventManager
	{
		private static Dictionary<Event, Delegate> eventDictionary = new Dictionary<Event, Delegate>();

		public enum Event
		{
		   OnGameStarted,
		   OnFruitCombine,
		   OnFruitQueued,
		   OnScored,
		   OnNewHighscore
		}
		
		public static void Subscribe<T>(Event eventType, Action<T> listener)
		{
		   eventDictionary.TryAdd(eventType, null);
		   eventDictionary[eventType] = Delegate.Combine(eventDictionary[eventType], listener);
		}
		
		public static void Unsubscribe<T>(Event eventType, Action<T> listener)
		{
		   if (eventDictionary.ContainsKey(eventType))
		   {
		      eventDictionary[eventType] = Delegate.Remove(eventDictionary[eventType], listener);
		   }
		}

		public static void Invoke<T>(Event eventType, T value)
		{
		   if (eventDictionary.TryGetValue(eventType, out Delegate eventDelegate))
		   {
			 (eventDelegate as Action<T>)?.Invoke(value);
		   }
		}
	}
}									
										</code></pre>
								</div>
							</div>

							<br><br>
							<h3>Links</h3>
							<ul class="icons">
									<li id="test2"><a href="https://github.com/LukeTobin/SuikAR" class="icon brands style2 fa-github" target="_blank"><span class="label">GitHub</span></a></li>
							</ul>
						</div>
						
					</div>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<!--
							<section>
								<h2 id="test">Get in touch</h2>
								<form method="post" action="#">
									<div class="fields">
										<div class="field half">
											<input type="text" name="name" id="name" placeholder="Name" />
										</div>
										<div class="field half">
											<input type="email" name="email" id="email" placeholder="Email" />
										</div>
										<div class="field">
											<textarea name="message" id="message" placeholder="Message"></textarea>
										</div>
									</div>
									<ul class="actions">
										<li><input type="submit" value="Send" class="primary" /></li>
									</ul>
								</form>
							</section>
						-->
							<section>
								<h2 id="test">Contact</h2>
								<ul class="icons">
									<li id="test"><a href="https://github.com/LukeTobin" class="icon brands style2 fa-github"><span class="label">GitHub</span></a></li>
									<li id="test"><a href="https://www.linkedin.com/in/lukejltobin/" class="icon brands style2 fa-linkedin"><span class="label">LinkedIn</span></a></li>
									<li id="test"><a href="https://twitter.com/freyble" class="icon brands style2 fa-twitter"><span class="label">Twitter</span></a></li>
									<li id="test"><a href="mailto: lukejltobin@gmail.com" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>

									<li id="test"><a href="" class="icon brands style3 fa-discord"><span class="label">Freyble</span></a></li>
								</ul>
							</section>
							<ul class="copyright">
								<li>&copy; Luke Tobin. All rights reserved</li></li>
							</ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
		<script src="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2"></script>
		<script>
			hljs.initHighlightingOnLoad();

			function showTab(tabId) {
				// Hide all tab contents
				var tabContents = document.querySelectorAll('.tab-content');
				tabContents.forEach(function(content) {
					content.classList.remove('active');
				});

				// Show the selected tab content
				var selectedTab = document.getElementById(tabId);
				selectedTab.classList.add('active');
			}
		</script>

		<script src="../assets/js/jquery.min.js"></script>
		<script src="../assets/js/browser.min.js"></script>
		<script src="../assets/js/breakpoints.min.js"></script>
		<script src="../assets/js/util.js"></script>
		<script src="../assets/js/main.js"></script>

	</body>
</html>